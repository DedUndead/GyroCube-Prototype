<!DOCTYPE html>
<html lang="en" class="w-screen h-screen">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/2.3.0/alpine.js"></script>
        <title>Document</title>
    </head>
    <body class="flex flex-col justify-center mx-10 mt-10 md:max-w-6xl md:mx-auto">
        <!--Navbar-->
        <header
            class="w-full p-3 flex flex-row justify-between items-center bg-blue-100 border-t-2 border-r-2 border-l-2 border-b-2 border-indigo-300 rounded-t-2xl">
            <nav :class="{'block': open, 'hidden': !open}"
                class="w-full pl-1 pr-1 md:pl-3 md:pr-3 flex flex-row justify-between font-semibold md:text-2xl">
                <div class="w-full y-full flex flex-row font-semibold md:text-2xl">
                    <div>
                        <a class="pr-2 md:pr-5" href="/">Home</a>
                    </div>
                    <div @click.away="open = false" x-data="{open:false}" class="pr-1">
                        <button @click="open = !open"
                            class="hover:bg-blue-200 rounded-md focus:bg-blue-200 focus:shadow-outline focus:outline-none flex flex-row">
                            <span class="font-semibold">Settings</span>
                            <svg fill="currentColor" viewBox="0 0 20 20" :class="{'rotate-180':open, 'rotate-0': !open}"
                                class="inline w-4 h-4 mt-1 transition-transform duration-200 transform md:mt-1">
                                <path fill-rule="evenodd"
                                    d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </button>
                        <div x-show="open" x-transition:enter="transition ease-out duration-100"
                            x-transition:enter-start="transform opacity-0 scale-95"
                            x-transition:enter-end="transform opacity-100 scale-100"
                            x-transition:leave="transition ease-in duration-75"
                            x-transition:leave-start="transform opacity-100 scale-100"
                            x-transition:leave-end="transform opacity-0 scale-95"
                            class="absolute z-10 w-1/10 origin-top-right rounded-md shadow-lg">
                            <div class="z-10 px-2 py-2 mt-0.5 rounded-r bg-indigo-100 shadow flex flex-col static">
                                <span class="font-semibold text-gray-700 text-base border-b-2 border-indigo-200">Cube
                                    Settings</span>
                                <a href="cube_1"
                                    class="block text-sm text-gray-600 py-1 bg-transparent rounded-lg hover:text-gray-900 focus:text-gray-700 hover:bg-blue-200 focus:bg-blue-200 focus\:outline-none focus:shadow-outline">Cube</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <a class="pl-2" href="/logout">Logout</a>
                </div>
            </nav>
        </header>

        <!--Main-->
        <main> 
            <!-- Image section -->
            <section
                class="w-full px-3 py-5 relative flex flex-col border-r-2 border-l-2 border-indigo-300"
                id="main_content">
                <img class="object-contain" src="/images/cube_icon.jpg">
            </section>

            <!-- Setting section -->
            <!-- First the style for mobile, so vertically from top to bottom : settings, stats -->
            <!-- Md style for stretched, horizontally from left to right settings, stats -->
            <section class="w-full px-3 py-5 relative bg-blue-100 flex flex-col border-2 border-indigo-300 rounded-b-2xl">
                <!--Functionality-->
                <div class="flex flex-col justify-start mt-1">
                    <div class="relative flex flex-row justify-start mt-1 md:text-lg md:leading-tight">
                        <label for="functionality" class="mr-2 leading-tight text-2xl">Functionality: </label>
                        <select
                            id="functionality"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md">
                            <option>Simple color</option>
                            <option>Temp tracker</option>
                            <option>Humidity tracker</option>
                            <option>Notifications</option>
                            <option>Weather</option>
                            <option>Idle</option>
                        </select>
                    </div>
                </div>
                <!--Color picker-->
                <div id="simple_color" class="flex flex-col justify-start mt-1 md:mt-2" style="display:none;">
                    <span class="text-xl font-semibold">Simple color</span>
                    <div class="relative flex flex-row justify-start mt-1 md:mt-2">
                        <label for="side_temp" class="mr-2 leading-tight text-lg">Side:</label>
                        <select
                            id="color_side"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md"
                        >
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <form class=" flex inline-flex mt-1 py-2">
                        <label for="color" class="mr-2 leading-tight text-lg">Color:</label>
                        <input id="color_target" type="color" id="colorPick" value="#000ff">
                    </form>
                    <button
                        id="color_submit"
                        class="flex flex-start py-1 mt-1 w-1/4 md:w-1/6 md:leading-tight bg-indigo-200 border border-indigo-300 md:text-lg justify-center hover:bg-indigo-100 hover:bg-indigo-200 border-indigo-100 text-sm border-4 rounded"
                        type="button">
                        Submit
                    </button>
                </div>

                <!--Temp Tracker-->
                <div id="temp_tracker" class="flex flex-col justify-start mt-1 md:mt-2" style="display:none;">
                    <span class="text-2xl font-semibold">Temperature Tracker</span>
                    <div class="relative flex flex-row justify-start mt-1 md:mt-2">
                        <label for="side_temp" class="mr-2 leading-tight text-lg">Side:</label>
                        <select
                            id="temp_side"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md"
                        >
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <form class="relative flex inline-flex md:mt-2">
                        <label class="mr-2 leading-tight text-lg">Temp target:</label>
                        <input 
                            id="temp_target"
                            class="w-1/12 leading-tight focus:outline-none border border-indigo-200 rounded" type="number"
                            placeholder="0" 
                        />
                    </form>
                    <button
                        id="temp_tracker_submit"
                        class="flex flex-start py-1 mt-1 w-1/4 md:w-1/6 md:leading-tight bg-indigo-200 border border-indigo-300 md:text-lg justify-center hover:bg-indigo-100 hover:bg-indigo-200 border-indigo-100 text-sm border-4 rounded"
                        type="button">
                        Submit
                    </button>
                </div>

                <!--Humidity Tracker-->
                <div id="humidity_tracker" class="flex flex-col justify-start mt-1 md:mt-2" style="display:none;">
                    <span class="text-xl font-semibold">Humidity Tracker</span>
                    <div class="relative flex flex-row justify-start mt-1 md:mt-2">
                        <label for="side_temp" class="mr-2 leading-tight text-lg">Side:</label>
                        <select
                            id="hum_side"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md"
                        >
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <form class="relative flex inline-flex md:mt-2">
                        <label class="mr-2 leading-tight text-lg">Humidity target:</label>
                        <input
                            id="hum_target" 
                            class="w-1/12 leading-tight focus:outline-none border border-indigo-200 rounded" type="number"
                            placeholder="0" 
                        />
                    </form>
                    <button
                        id="hum_tracker_submit"
                        class="flex flex-start mt-1 md:justify-center w-1/4 md:w-1/6 md:leading-tight md:text-lg justify-center bg-indigo-200 border border-indigo-300 hover:bg-indigo-100 hover:bg-indigo-200 border-indigo-100 text-sm border-4 rounded"
                        type="button">
                        Submit
                    </button>
                </div>

                <!--Weather-->
                <div id="weather" class="flex flex-col justify-start mt-1 md:mt-2" style="display:none;">
                    <span class="text-xl font-semibold">Weather Forecast</span>
                    <div class="relative flex flex-row justify-start mt-1 md:mt-2">
                        <label for="side_temp" class="mr-2 leading-tight text-lg">Side:</label>
                        <select
                            id="weather_side"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <button
                        id="weather_submit"
                        class="flex flex-start w-1/4 mt-1 md:w-1/6 md:leading-tight md:text-lg justify-center bg-indigo-200 border border-indigo-300 hover:bg-indigo-100 hover:bg-indigo-200 border-indigo-100 text-sm border-4 rounded"
                        type="button">
                        Submit
                    </button>
                </div>

                <!--Notification Tracker-->
                <div id="notifications" class="flex flex-col justify-start mt-1 md:mt-2" style="display:none;">
                    <span class="text-xl font-semibold">Notification Tracker:</span>
                    <div class="relative flex flex-row justify-start mt-1 md:mt-2">
                        <label for="side_temp" class="mr-2 leading-tight text-lg">Side:</label>
                        <select
                            id="notif_side"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md"
                        >
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <div class="mt-1">
                        <span class="leading-tight text-lg">Notification Tracker:</span>
                        <div class="mt-1">
                            <label class="inline-flex items-center">
                                <input id="vibe_mode" type="radio" class="form-radio" name="notificationsType" value="0">
                                <span class="ml-2">Vibrate</span>
                            </label>
                            <label id="color_mode" class="inline-flex items-center ml-6">
                                <input type="radio" class="form-radio" name="notificationsType" value="1">
                                <span class="ml-2">Lights</span>
                            </label>
                            <label id="both_mode" class="inline-flex items-center ml-6">
                                <input type="radio" class="form-radio" name="notificationsType" value="2">
                                <span class="ml-2">Both</span>
                            </label>
                        </div>
                    </div>
                    <form id = "notif_color"class=" flex inline-flex mt-1 py-2">
                        <label for="color" class="mr-2 leading-tight text-lg">Color:</label>
                        <input id="notif_color_target" type="color" id="colorPick" value="#000ff">
                    </form>
                    <button
                        id="notif_submit"
                        class="flex flex-start w-1/4 mt-1 md:w-1/6 md:leading-tight md:text-lg justify-center bg-indigo-200 border border-indigo-300 hover:bg-indigo-100 hover:bg-indigo-200 border-indigo-100 text-sm border-4 rounded"
                        type="button">
                        Submit
                    </button>
                </div>

                <!--Idle-->
                <div id="idle" class="flex flex-col justify-start mt-1 md:mt-2" style="display:none;">
                    <span class="text-xl font-semibold">Idle</span>
                    <div class="relative flex flex-row justify-start mt-1 md:mt-2">
                        <label class="mr-2 leading-tight text-lg">Side:</label>
                        <select
                            id="idle_side"
                            class="flex inline-flex float-right text-sm w-auto apperance-none bg-white border border-indigo-100 hover:border-indigo-200 rounded shadow focus:outline-none lg:text-md">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                        </select>
                    </div>
                    <button
                        id="idle_submit"
                        class="flex flex-start w-1/4 mt-1 md:w-1/6 md:leading-tight md:text-lg justify-center bg-indigo-200 border border-indigo-300 hover:bg-indigo-100 hover:bg-indigo-200 border-indigo-100 text-sm border-4 rounded"
                        type="button">
                        Submit
                    </button>
                </div>
            </section>

            <!-- Current stats section -->
            <section>
                <!-- Add elements to display current status of cube -->
            </section>
        </main>
        <h1 class="mx-auto mt-2 text-sm">By Alex, Pavel, Joel and Dan</h1>
        <script>

            document.getElementById('functionality').addEventListener("change", function (e) {
                const target = e.target.value.toLowerCase().replace(" ", "_")

                switch(target) {
                    case "simple_color":
                        document.getElementById('simple_color').style.display = 'block';
                        document.getElementById('temp_tracker').style.display = 'none';
                        document.getElementById('humidity_tracker').style.display = 'none';
                        document.getElementById('notifications').style.display = 'none';
                        document.getElementById('weather').style.display = 'none';  
                        document.getElementById('idle').style.display = 'none';                    
                        break;
                    case 'temp_tracker':
                        document.getElementById('simple_color').style.display = 'none';
                        document.getElementById('temp_tracker').style.display = 'block';
                        document.getElementById('humidity_tracker').style.display = 'none';
                        document.getElementById('notifications').style.display = 'none';
                        document.getElementById('weather').style.display = 'none';     
                        document.getElementById('idle').style.display = 'none';                   
                        break;
                    case 'humidity_tracker':
                        document.getElementById('simple_color').style.display = 'none';
                        document.getElementById('temp_tracker').style.display = 'none';
                        document.getElementById('humidity_tracker').style.display = 'block';
                        document.getElementById('notifications').style.display = 'none';
                        document.getElementById('weather').style.display = 'none';   
                        document.getElementById('idle').style.display = 'none';                                     
                        break;     
                    case 'notifications':
                        document.getElementById('simple_color').style.display = 'none';
                        document.getElementById('temp_tracker').style.display = 'none';
                        document.getElementById('humidity_tracker').style.display = 'none';
                        document.getElementById('notifications').style.display = 'block';
                        document.getElementById('weather').style.display = 'none';  
                        document.getElementById('idle').style.display = 'none';                  
                        break;    
                    case "weather":
                        document.getElementById('simple_color').style.display = 'none';
                        document.getElementById('temp_tracker').style.display = 'none';
                        document.getElementById('humidity_tracker').style.display = 'none';
                        document.getElementById('notifications').style.display = 'none';
                        document.getElementById('weather').style.display = 'block';   
                        document.getElementById('idle').style.display = 'none';                 
                        break;   
                    case "idle":
                        document.getElementById('simple_color').style.display = 'none';
                        document.getElementById('temp_tracker').style.display = 'none';
                        document.getElementById('humidity_tracker').style.display = 'none';
                        document.getElementById('notifications').style.display = 'none';
                        document.getElementById('weather').style.display = 'none';   
                        document.getElementById('idle').style.display = 'block'; 
                        break;
                    default:
                        document.getElementById('simple_color').style.display = 'none';
                        document.getElementById('temp_tracker').style.display = 'none';
                        document.getElementById('humidity_tracker').style.display = 'none';
                        document.getElementById('notifications').style.display = 'none';
                        document.getElementById('weather').style.display = 'none';  
                        document.getElementById('idle').style.display = 'none';        
                        break;
                }
            });
            
            document.getElementById('vibe_mode').addEventListener("change", function (e) {
                document.getElementById('notif_color').style.display = 'none';
            })
            document.getElementById('color_mode').addEventListener("change", function (e) {
                document.getElementById('notif_color').style.display = 'block';
            })
            document.getElementById('both_mode').addEventListener("change", function (e) {
                document.getElementById('notif_color').style.display = 'block';
            })

        </script>
    </body>
    <script src="https://cdn.socket.io/4.2.0/socket.io.min.js" integrity="sha384-PiBR5S00EtOj2Lto9Uu81cmoyZqR57XcOna1oAuVuIEjzj0wpqDVfD0JA9eXlRsj"crossorigin="anonymous"></script>
    <script src="/js/helper.js"></script>
    <script src="/js/sockets.js"></script>
    <script src="/js/handler.js"></script>
</html>


